<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button defaultHref="/miembros"></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Inicio
    </ion-title>
    <ion-button fill="clear" slot="end" routerLink="/miembros/busquedas">
      <ion-icon slot="icon-only" color="myApp_color2" name="search"></ion-icon>
    </ion-button>
  </ion-toolbar>
  <ion-item lines="full">
    <ion-text color="myApp_color3">Ciudad:</ion-text>
    <ion-select name="ciudad" cancelText="Atrás" okText="Aceptar" (ionChange)="ciudadCambiada($event)">
      <ion-select-option selected value="Todas">Todas</ion-select-option>
      <ion-select-option *ngFor="let ciudad of ciudades_disponibles" value="{{ciudad}}">{{ciudad}}</ion-select-option>
    </ion-select>
  </ion-item>
</ion-header>

<ion-content>

  <ion-list>
    <ion-card *ngFor="let evento of eventos">
      <img class="imagen" [src]="'data:image/JPEG;base64,' + evento.imagen" />
      <ion-card-header>
        <ion-card-subtitle class="align-right">
          <ion-text color="myApp_color2">Organizado por <a
              routerLink="/miembros/organizador-detalles/{{evento.login_organizador}}">{{evento.nombre_organizador}}</a>
          </ion-text>
        </ion-card-subtitle>
        <ion-card-title>Título: {{evento.titulo}}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-text color="myApp_color6">Puntuación media: </ion-text>
        <ion-text color="myApp_color3">
          {{evento.valoracion_media.toFixed(2)}}<ion-icon name="star"></ion-icon>
        </ion-text>
        <hr>
        <ion-text color="myApp_color6">Total asistentes: </ion-text>
        <ion-text color="myApp_color3">
          {{evento.total_asistentes}}<ion-icon name="people"></ion-icon>
        </ion-text>
        <hr>
        {{evento.descripcion}}
      </ion-card-content>

      <ion-item lines="none" color="myApp_color1">
        <ion-chip routerLink="/miembros/categoria-eventos/{{evento.categoria}}">
          <ion-icon color="myApp_color3" name="pricetags"></ion-icon>
          <ion-label color="myApp_color3">{{evento.categoria}}</ion-label>
        </ion-chip>
        <ion-button fill="clear" size="small" color="myApp_color2" slot="end"
          routerLink="/miembros/evento-detalles/{{evento.id}}" routerDirection="forward">Ver más</ion-button>
      </ion-item>

    </ion-card>
  </ion-list>

</ion-content>